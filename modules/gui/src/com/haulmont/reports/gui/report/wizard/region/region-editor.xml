<!--
  ~ Copyright (c) 2008-2016 Haulmont. All rights reserved.
  ~ Use is subject to license terms, see http://www.cuba-platform.com/commercial-software-license for details.
  -->

<window xmlns="http://schemas.haulmont.com/cuba/window.xsd"
        class="com.haulmont.reports.gui.report.wizard.region.RegionEditor"
        messagesPack="com.haulmont.reports.gui.report.wizard"
        caption="msg://regionEditor"
        datasource="reportRegionDs">

    <companions>
        <web class="com.haulmont.reports.web.report.wizard.region.WebRegionEditorCompanion"/>
    </companions>

    <dsContext>
        <datasource id="reportRegionDs" class="com.haulmont.reports.entity.wizard.ReportRegion">
            <collectionDatasource id="reportRegionPropertiesTableDs" property="regionProperties"/>
        </datasource>
    </dsContext>

    <layout spacing="true">
        <label id="tipLabel"
               stylename="report-wizard-tip-label"
               width="100%"/>

        <hbox id="mainContent" width="100%" expand="treePanel">
            <groupBox id="treePanel" height="500px">
                <frame id="entityTreeFrame"
                        src="/com/haulmont/reports/gui/report/wizard/region/entity-tree-frame.xml"
                        width="100%" height="100%"/>
            </groupBox>
            <vbox id="btnsControlPanel" margin="true" spacing="true" width="AUTO">
                <button id="addItem" icon="icons/report-wizard-to-right-pane.png" width="40px"/>
                <button id="removeItem" icon="icons/remove.png" width="40px"/>
                <button id="upItem" enable="false" icon="icons/report-wizard-up-property.png" width="40px"/>
                <button id="downItem" enable="false" icon="icons/report-wizard-down-property.png" width="40px"/>
            </vbox>
            <groupBox id="selectedTreeItemsPanel" width="500px" height="500px">
                <table id="propertiesTable" multiselect="true" sortable="false" reorderingAllowed="false"
                       columnControlVisible="false" width="100%" height="100%">
                    <columns>
                        <column id="hierarchicalLocalizedName" caption="msg://properties"/>
                    </columns>
                    <rows datasource="reportRegionPropertiesTableDs"/>
                </table>
            </groupBox>
        </hbox>
        <frame id="windowActions" screen="editWindowActions"/>
    </layout>
</window>