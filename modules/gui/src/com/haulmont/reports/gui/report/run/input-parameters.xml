<!--
  ~ Copyright (c) 2008-2016 Haulmont. All rights reserved.
  ~ Use is subject to license terms, see http://www.cuba-platform.com/commercial-software-license for details.
  -->

<window xmlns="http://schemas.haulmont.com/cuba/window.xsd"
        class="com.haulmont.reports.gui.report.run.InputParametersWindow"
        messagesPack="com.haulmont.reports.gui.report.run"
        caption="msg://inputParameters">

    <dsContext>
        <collectionDatasource id="templateReportsDs" class="com.haulmont.reports.entity.ReportTemplate" view="_local">
            <query>select e from report$ReportTemplate e where e.report.id = :custom$reportId</query>
        </collectionDatasource>
    </dsContext>
    <layout spacing="true">
        <hbox id="templatesBox" spacing="true" visible="false">
            <label value="msg://caption.reportTemplate" align="MIDDLE_CENTER" width="80"/>
            <lookupField id="templateField" optionsDatasource="templateReportsDs" width="400"/>
        </hbox>
        <hbox id="outputTypeBox" spacing="true" visible="false">
            <label value="msg://caption.reportOutputType" align="MIDDLE_CENTER" width="80"/>
            <lookupField id="outputTypeField" width="400"/>
        </hbox>
        <frame id="inputParametersFrame" screen="report$inputParametersFrame"/>

        <hbox spacing="true">
            <button id="printReportBtn" invoke="printReport"
                    caption="msg://input.printReport" icon="icons/run.png"/>
            <button id="cancel" invoke="cancel" caption="mainMsg://actions.Cancel"/>
        </hbox>
    </layout>
</window>